apiVersion: apps/v1
kind: StatefulSet
metadata:
  creationTimestamp: '2023-11-28T18:00:43Z'
  generation: 1
  labels:
    common.k8s.elastic.co/template-hash: '796146545'
    common.k8s.elastic.co/type: elasticsearch
    elasticsearch.k8s.elastic.co/cluster-name: elasticsearch
    elasticsearch.k8s.elastic.co/statefulset-name: elasticsearch-es-default
  managedFields:
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:metadata:
          f:labels:
            .: {}
            f:common.k8s.elastic.co/template-hash: {}
            f:common.k8s.elastic.co/type: {}
            f:elasticsearch.k8s.elastic.co/cluster-name: {}
            f:elasticsearch.k8s.elastic.co/statefulset-name: {}
          f:ownerReferences:
            .: {}
            k:{"uid":"fa65119f-aabd-4df2-923b-ee9e4a481662"}: {}
        f:spec:
          f:podManagementPolicy: {}
          f:replicas: {}
          f:revisionHistoryLimit: {}
          f:selector: {}
          f:serviceName: {}
          f:template:
            f:metadata:
              f:annotations:
                .: {}
                f:co.elastic.logs/module: {}
                f:elasticsearch.k8s.elastic.co/config-hash: {}
              f:labels:
                .: {}
                f:common.k8s.elastic.co/type: {}
                f:elasticsearch.k8s.elastic.co/cluster-name: {}
                f:elasticsearch.k8s.elastic.co/http-scheme: {}
                f:elasticsearch.k8s.elastic.co/node-data: {}
                f:elasticsearch.k8s.elastic.co/node-data_cold: {}
                f:elasticsearch.k8s.elastic.co/node-data_content: {}
                f:elasticsearch.k8s.elastic.co/node-data_frozen: {}
                f:elasticsearch.k8s.elastic.co/node-data_hot: {}
                f:elasticsearch.k8s.elastic.co/node-data_warm: {}
                f:elasticsearch.k8s.elastic.co/node-ingest: {}
                f:elasticsearch.k8s.elastic.co/node-master: {}
                f:elasticsearch.k8s.elastic.co/node-ml: {}
                f:elasticsearch.k8s.elastic.co/node-remote_cluster_client: {}
                f:elasticsearch.k8s.elastic.co/node-transform: {}
                f:elasticsearch.k8s.elastic.co/node-voting_only: {}
                f:elasticsearch.k8s.elastic.co/statefulset-name: {}
                f:elasticsearch.k8s.elastic.co/version: {}
            f:spec:
              f:affinity:
                .: {}
                f:podAntiAffinity:
                  .: {}
                  f:preferredDuringSchedulingIgnoredDuringExecution: {}
              f:automountServiceAccountToken: {}
              f:containers:
                k:{"name":"elasticsearch"}:
                  .: {}
                  f:env:
                    .: {}
                    k:{"name":"HEADLESS_SERVICE_NAME"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"NAMESPACE"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"NODE_NAME"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"NSS_SDB_USE_CACHE"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"POD_IP"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"POD_NAME"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"PROBE_PASSWORD_PATH"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"PROBE_USERNAME"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"READINESS_PROBE_PROTOCOL"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                  f:image: {}
                  f:imagePullPolicy: {}
                  f:lifecycle:
                    .: {}
                    f:preStop:
                      .: {}
                      f:exec:
                        .: {}
                        f:command: {}
                  f:name: {}
                  f:ports:
                    .: {}
                    k:{"containerPort":9200,"protocol":"TCP"}:
                      .: {}
                      f:containerPort: {}
                      f:name: {}
                      f:protocol: {}
                    k:{"containerPort":9300,"protocol":"TCP"}:
                      .: {}
                      f:containerPort: {}
                      f:name: {}
                      f:protocol: {}
                  f:readinessProbe:
                    .: {}
                    f:exec:
                      .: {}
                      f:command: {}
                    f:failureThreshold: {}
                    f:initialDelaySeconds: {}
                    f:periodSeconds: {}
                    f:successThreshold: {}
                    f:timeoutSeconds: {}
                  f:resources:
                    .: {}
                    f:limits:
                      .: {}
                      f:memory: {}
                    f:requests:
                      .: {}
                      f:memory: {}
                  f:securityContext:
                    .: {}
                    f:allowPrivilegeEscalation: {}
                    f:capabilities:
                      .: {}
                      f:drop: {}
                    f:privileged: {}
                    f:readOnlyRootFilesystem: {}
                  f:terminationMessagePath: {}
                  f:terminationMessagePolicy: {}
                  f:volumeMounts:
                    .: {}
                    k:{"mountPath":"/mnt/elastic-internal/downward-api"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/elasticsearch-config"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/pod-mounted-users"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/scripts"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/unicast-hosts"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/xpack-file-realm"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/tmp"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/bin"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/http-certs"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/operator"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/transport-certs"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/transport-remote-certs/"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/data"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/logs"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/plugins"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
              f:dnsPolicy: {}
              f:imagePullSecrets:
                .: {}
                k:{"name":"regcred-gcp"}: {}
              f:initContainers:
                .: {}
                k:{"name":"elastic-internal-init-filesystem"}:
                  .: {}
                  f:command: {}
                  f:env:
                    .: {}
                    k:{"name":"HEADLESS_SERVICE_NAME"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"NAMESPACE"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"NODE_NAME"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"NSS_SDB_USE_CACHE"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"POD_IP"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"POD_NAME"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"PROBE_PASSWORD_PATH"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"PROBE_USERNAME"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"READINESS_PROBE_PROTOCOL"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                  f:image: {}
                  f:imagePullPolicy: {}
                  f:name: {}
                  f:resources:
                    .: {}
                    f:limits:
                      .: {}
                      f:cpu: {}
                      f:memory: {}
                    f:requests:
                      .: {}
                      f:cpu: {}
                      f:memory: {}
                  f:securityContext:
                    .: {}
                    f:allowPrivilegeEscalation: {}
                    f:capabilities:
                      .: {}
                      f:drop: {}
                    f:privileged: {}
                    f:readOnlyRootFilesystem: {}
                  f:terminationMessagePath: {}
                  f:terminationMessagePolicy: {}
                  f:volumeMounts:
                    .: {}
                    k:{"mountPath":"/mnt/elastic-internal/downward-api"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/elasticsearch-bin-local"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/mnt/elastic-internal/elasticsearch-config"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/elasticsearch-config-local"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/mnt/elastic-internal/elasticsearch-plugins-local"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/mnt/elastic-internal/pod-mounted-users"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/scripts"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/transport-certificates"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/unicast-hosts"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/xpack-file-realm"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/tmp"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/http-certs"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/operator"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/transport-remote-certs/"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/data"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/logs"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                k:{"name":"elastic-internal-suspend"}:
                  .: {}
                  f:command: {}
                  f:env:
                    .: {}
                    k:{"name":"HEADLESS_SERVICE_NAME"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"NAMESPACE"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"NODE_NAME"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"NSS_SDB_USE_CACHE"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"POD_IP"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"POD_NAME"}:
                      .: {}
                      f:name: {}
                      f:valueFrom:
                        .: {}
                        f:fieldRef: {}
                    k:{"name":"PROBE_PASSWORD_PATH"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"PROBE_USERNAME"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"READINESS_PROBE_PROTOCOL"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                  f:image: {}
                  f:imagePullPolicy: {}
                  f:name: {}
                  f:resources:
                    .: {}
                    f:limits:
                      .: {}
                      f:memory: {}
                    f:requests:
                      .: {}
                      f:memory: {}
                  f:securityContext:
                    .: {}
                    f:allowPrivilegeEscalation: {}
                    f:capabilities:
                      .: {}
                      f:drop: {}
                    f:privileged: {}
                    f:readOnlyRootFilesystem: {}
                  f:terminationMessagePath: {}
                  f:terminationMessagePolicy: {}
                  f:volumeMounts:
                    .: {}
                    k:{"mountPath":"/mnt/elastic-internal/downward-api"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/elasticsearch-config"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/pod-mounted-users"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/scripts"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/unicast-hosts"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/mnt/elastic-internal/xpack-file-realm"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/tmp"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/bin"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/http-certs"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/operator"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/transport-certs"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/config/transport-remote-certs/"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
                    k:{"mountPath":"/usr/share/elasticsearch/data"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/logs"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                    k:{"mountPath":"/usr/share/elasticsearch/plugins"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
              f:restartPolicy: {}
              f:schedulerName: {}
              f:securityContext:
                .: {}
                f:fsGroup: {}
              f:terminationGracePeriodSeconds: {}
              f:volumes:
                .: {}
                k:{"name":"downward-api"}:
                  .: {}
                  f:downwardAPI:
                    .: {}
                    f:defaultMode: {}
                    f:items: {}
                  f:name: {}
                k:{"name":"elastic-internal-elasticsearch-bin-local"}:
                  .: {}
                  f:emptyDir: {}
                  f:name: {}
                k:{"name":"elastic-internal-elasticsearch-config"}:
                  .: {}
                  f:name: {}
                  f:secret:
                    .: {}
                    f:defaultMode: {}
                    f:optional: {}
                    f:secretName: {}
                k:{"name":"elastic-internal-elasticsearch-config-local"}:
                  .: {}
                  f:emptyDir: {}
                  f:name: {}
                k:{"name":"elastic-internal-elasticsearch-plugins-local"}:
                  .: {}
                  f:emptyDir: {}
                  f:name: {}
                k:{"name":"elastic-internal-http-certificates"}:
                  .: {}
                  f:name: {}
                  f:secret:
                    .: {}
                    f:defaultMode: {}
                    f:optional: {}
                    f:secretName: {}
                k:{"name":"elastic-internal-probe-user"}:
                  .: {}
                  f:name: {}
                  f:secret:
                    .: {}
                    f:defaultMode: {}
                    f:items: {}
                    f:optional: {}
                    f:secretName: {}
                k:{"name":"elastic-internal-remote-certificate-authorities"}:
                  .: {}
                  f:name: {}
                  f:secret:
                    .: {}
                    f:defaultMode: {}
                    f:optional: {}
                    f:secretName: {}
                k:{"name":"elastic-internal-scripts"}:
                  .: {}
                  f:configMap:
                    .: {}
                    f:defaultMode: {}
                    f:name: {}
                    f:optional: {}
                  f:name: {}
                k:{"name":"elastic-internal-transport-certificates"}:
                  .: {}
                  f:name: {}
                  f:secret:
                    .: {}
                    f:defaultMode: {}
                    f:optional: {}
                    f:secretName: {}
                k:{"name":"elastic-internal-unicast-hosts"}:
                  .: {}
                  f:configMap:
                    .: {}
                    f:defaultMode: {}
                    f:name: {}
                    f:optional: {}
                  f:name: {}
                k:{"name":"elastic-internal-xpack-file-realm"}:
                  .: {}
                  f:name: {}
                  f:secret:
                    .: {}
                    f:defaultMode: {}
                    f:optional: {}
                    f:secretName: {}
                k:{"name":"elasticsearch-data"}:
                  .: {}
                  f:name: {}
                  f:persistentVolumeClaim:
                    .: {}
                    f:claimName: {}
                k:{"name":"elasticsearch-logs"}:
                  .: {}
                  f:emptyDir: {}
                  f:name: {}
                k:{"name":"file-settings"}:
                  .: {}
                  f:name: {}
                  f:secret:
                    .: {}
                    f:defaultMode: {}
                    f:optional: {}
                    f:secretName: {}
                k:{"name":"tmp-volume"}:
                  .: {}
                  f:emptyDir: {}
                  f:name: {}
          f:updateStrategy:
            f:type: {}
          f:volumeClaimTemplates: {}
      manager: elastic-operator
      operation: Update
      time: '2023-11-28T18:00:43Z'
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:status:
          f:availableReplicas: {}
          f:collisionCount: {}
          f:currentReplicas: {}
          f:currentRevision: {}
          f:observedGeneration: {}
          f:readyReplicas: {}
          f:replicas: {}
          f:updateRevision: {}
          f:updatedReplicas: {}
      manager: kube-controller-manager
      operation: Update
      subresource: status
      time: '2025-02-05T20:37:20Z'
  name: elasticsearch-es-default
  namespace: opr-develop
  ownerReferences:
    - apiVersion: elasticsearch.k8s.elastic.co/v1
      blockOwnerDeletion: true
      controller: true
      kind: Elasticsearch
      name: elasticsearch
      uid: fa65119f-aabd-4df2-923b-ee9e4a481662
  resourceVersion: '406672645'
  uid: a2e88b16-6a3f-45ca-b8df-db5087e9b9d3
spec:
  podManagementPolicy: Parallel
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      common.k8s.elastic.co/type: elasticsearch
      elasticsearch.k8s.elastic.co/cluster-name: elasticsearch
      elasticsearch.k8s.elastic.co/statefulset-name: elasticsearch-es-default
  serviceName: elasticsearch-es-default
  template:
    metadata:
      annotations:
        co.elastic.logs/module: elasticsearch
        elasticsearch.k8s.elastic.co/config-hash: '3478338791'
      creationTimestamp: null
      labels:
        common.k8s.elastic.co/type: elasticsearch
        elasticsearch.k8s.elastic.co/cluster-name: elasticsearch
        elasticsearch.k8s.elastic.co/http-scheme: https
        elasticsearch.k8s.elastic.co/node-data: 'true'
        elasticsearch.k8s.elastic.co/node-data_cold: 'true'
        elasticsearch.k8s.elastic.co/node-data_content: 'true'
        elasticsearch.k8s.elastic.co/node-data_frozen: 'true'
        elasticsearch.k8s.elastic.co/node-data_hot: 'true'
        elasticsearch.k8s.elastic.co/node-data_warm: 'true'
        elasticsearch.k8s.elastic.co/node-ingest: 'true'
        elasticsearch.k8s.elastic.co/node-master: 'true'
        elasticsearch.k8s.elastic.co/node-ml: 'true'
        elasticsearch.k8s.elastic.co/node-remote_cluster_client: 'true'
        elasticsearch.k8s.elastic.co/node-transform: 'true'
        elasticsearch.k8s.elastic.co/node-voting_only: 'false'
        elasticsearch.k8s.elastic.co/statefulset-name: elasticsearch-es-default
        elasticsearch.k8s.elastic.co/version: 8.7.0
    spec:
      affinity:
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchLabels:
                    elasticsearch.k8s.elastic.co/cluster-name: elasticsearch
                topologyKey: kubernetes.io/hostname
              weight: 100
      automountServiceAccountToken: false
      containers:
        - env:
            - name: POD_IP
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: status.podIP
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.name
            - name: NODE_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: spec.nodeName
            - name: NAMESPACE
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.namespace
            - name: PROBE_PASSWORD_PATH
              value: /mnt/elastic-internal/pod-mounted-users/elastic-internal-probe
            - name: PROBE_USERNAME
              value: elastic-internal-probe
            - name: READINESS_PROBE_PROTOCOL
              value: https
            - name: HEADLESS_SERVICE_NAME
              value: elasticsearch-es-default
            - name: NSS_SDB_USE_CACHE
              value: 'no'
          image: >-
            us-east1-docker.pkg.dev/unity-solutions-tyndall-prd/docker/ironbank/elastic/elasticsearch/elasticsearch:8.7.0
          imagePullPolicy: IfNotPresent
          lifecycle:
            preStop:
              exec:
                command:
                  - bash
                  - '-c'
                  - /mnt/elastic-internal/scripts/pre-stop-hook-script.sh
          name: elasticsearch
          ports:
            - containerPort: 9200
              name: https
              protocol: TCP
            - containerPort: 9300
              name: transport
              protocol: TCP
          readinessProbe:
            exec:
              command:
                - bash
                - '-c'
                - /mnt/elastic-internal/scripts/readiness-probe-script.sh
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              memory: 2Gi
            requests:
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            privileged: false
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
            - mountPath: /mnt/elastic-internal/downward-api
              name: downward-api
              readOnly: true
            - mountPath: /usr/share/elasticsearch/bin
              name: elastic-internal-elasticsearch-bin-local
            - mountPath: /mnt/elastic-internal/elasticsearch-config
              name: elastic-internal-elasticsearch-config
              readOnly: true
            - mountPath: /usr/share/elasticsearch/config
              name: elastic-internal-elasticsearch-config-local
            - mountPath: /usr/share/elasticsearch/plugins
              name: elastic-internal-elasticsearch-plugins-local
            - mountPath: /usr/share/elasticsearch/config/http-certs
              name: elastic-internal-http-certificates
              readOnly: true
            - mountPath: /mnt/elastic-internal/pod-mounted-users
              name: elastic-internal-probe-user
              readOnly: true
            - mountPath: /usr/share/elasticsearch/config/transport-remote-certs/
              name: elastic-internal-remote-certificate-authorities
              readOnly: true
            - mountPath: /mnt/elastic-internal/scripts
              name: elastic-internal-scripts
              readOnly: true
            - mountPath: /usr/share/elasticsearch/config/transport-certs
              name: elastic-internal-transport-certificates
              readOnly: true
            - mountPath: /mnt/elastic-internal/unicast-hosts
              name: elastic-internal-unicast-hosts
              readOnly: true
            - mountPath: /mnt/elastic-internal/xpack-file-realm
              name: elastic-internal-xpack-file-realm
              readOnly: true
            - mountPath: /usr/share/elasticsearch/data
              name: elasticsearch-data
            - mountPath: /usr/share/elasticsearch/logs
              name: elasticsearch-logs
            - mountPath: /usr/share/elasticsearch/config/operator
              name: file-settings
              readOnly: true
            - mountPath: /tmp
              name: tmp-volume
      dnsPolicy: ClusterFirst
      imagePullSecrets:
        - name: regcred-gcp
      initContainers:
        - command:
            - bash
            - '-c'
            - /mnt/elastic-internal/scripts/prepare-fs.sh
          env:
            - name: POD_IP
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: status.podIP
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.name
            - name: NODE_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: spec.nodeName
            - name: NAMESPACE
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.namespace
            - name: PROBE_PASSWORD_PATH
              value: /mnt/elastic-internal/pod-mounted-users/elastic-internal-probe
            - name: PROBE_USERNAME
              value: elastic-internal-probe
            - name: READINESS_PROBE_PROTOCOL
              value: https
            - name: HEADLESS_SERVICE_NAME
              value: elasticsearch-es-default
            - name: NSS_SDB_USE_CACHE
              value: 'no'
          image: >-
            us-east1-docker.pkg.dev/unity-solutions-tyndall-prd/docker/ironbank/elastic/elasticsearch/elasticsearch:8.7.0
          imagePullPolicy: IfNotPresent
          name: elastic-internal-init-filesystem
          resources:
            limits:
              cpu: 100m
              memory: 50Mi
            requests:
              cpu: 100m
              memory: 50Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            privileged: false
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
            - mountPath: /mnt/elastic-internal/downward-api
              name: downward-api
              readOnly: true
            - mountPath: /mnt/elastic-internal/elasticsearch-bin-local
              name: elastic-internal-elasticsearch-bin-local
            - mountPath: /mnt/elastic-internal/elasticsearch-config
              name: elastic-internal-elasticsearch-config
              readOnly: true
            - mountPath: /mnt/elastic-internal/elasticsearch-config-local
              name: elastic-internal-elasticsearch-config-local
            - mountPath: /mnt/elastic-internal/elasticsearch-plugins-local
              name: elastic-internal-elasticsearch-plugins-local
            - mountPath: /usr/share/elasticsearch/config/http-certs
              name: elastic-internal-http-certificates
              readOnly: true
            - mountPath: /mnt/elastic-internal/pod-mounted-users
              name: elastic-internal-probe-user
              readOnly: true
            - mountPath: /usr/share/elasticsearch/config/transport-remote-certs/
              name: elastic-internal-remote-certificate-authorities
              readOnly: true
            - mountPath: /mnt/elastic-internal/scripts
              name: elastic-internal-scripts
              readOnly: true
            - mountPath: /mnt/elastic-internal/transport-certificates
              name: elastic-internal-transport-certificates
              readOnly: true
            - mountPath: /mnt/elastic-internal/unicast-hosts
              name: elastic-internal-unicast-hosts
              readOnly: true
            - mountPath: /mnt/elastic-internal/xpack-file-realm
              name: elastic-internal-xpack-file-realm
              readOnly: true
            - mountPath: /usr/share/elasticsearch/data
              name: elasticsearch-data
            - mountPath: /usr/share/elasticsearch/logs
              name: elasticsearch-logs
            - mountPath: /usr/share/elasticsearch/config/operator
              name: file-settings
              readOnly: true
            - mountPath: /tmp
              name: tmp-volume
        - command:
            - bash
            - '-c'
            - /mnt/elastic-internal/scripts/suspend.sh
          env:
            - name: POD_IP
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: status.podIP
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.name
            - name: NODE_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: spec.nodeName
            - name: NAMESPACE
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.namespace
            - name: PROBE_PASSWORD_PATH
              value: /mnt/elastic-internal/pod-mounted-users/elastic-internal-probe
            - name: PROBE_USERNAME
              value: elastic-internal-probe
            - name: READINESS_PROBE_PROTOCOL
              value: https
            - name: HEADLESS_SERVICE_NAME
              value: elasticsearch-es-default
            - name: NSS_SDB_USE_CACHE
              value: 'no'
          image: >-
            us-east1-docker.pkg.dev/unity-solutions-tyndall-prd/docker/ironbank/elastic/elasticsearch/elasticsearch:8.7.0
          imagePullPolicy: IfNotPresent
          name: elastic-internal-suspend
          resources:
            limits:
              memory: 2Gi
            requests:
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            privileged: false
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
            - mountPath: /mnt/elastic-internal/downward-api
              name: downward-api
              readOnly: true
            - mountPath: /usr/share/elasticsearch/bin
              name: elastic-internal-elasticsearch-bin-local
            - mountPath: /mnt/elastic-internal/elasticsearch-config
              name: elastic-internal-elasticsearch-config
              readOnly: true
            - mountPath: /usr/share/elasticsearch/config
              name: elastic-internal-elasticsearch-config-local
            - mountPath: /usr/share/elasticsearch/plugins
              name: elastic-internal-elasticsearch-plugins-local
            - mountPath: /usr/share/elasticsearch/config/http-certs
              name: elastic-internal-http-certificates
              readOnly: true
            - mountPath: /mnt/elastic-internal/pod-mounted-users
              name: elastic-internal-probe-user
              readOnly: true
            - mountPath: /usr/share/elasticsearch/config/transport-remote-certs/
              name: elastic-internal-remote-certificate-authorities
              readOnly: true
            - mountPath: /mnt/elastic-internal/scripts
              name: elastic-internal-scripts
              readOnly: true
            - mountPath: /usr/share/elasticsearch/config/transport-certs
              name: elastic-internal-transport-certificates
              readOnly: true
            - mountPath: /mnt/elastic-internal/unicast-hosts
              name: elastic-internal-unicast-hosts
              readOnly: true
            - mountPath: /mnt/elastic-internal/xpack-file-realm
              name: elastic-internal-xpack-file-realm
              readOnly: true
            - mountPath: /usr/share/elasticsearch/data
              name: elasticsearch-data
            - mountPath: /usr/share/elasticsearch/logs
              name: elasticsearch-logs
            - mountPath: /usr/share/elasticsearch/config/operator
              name: file-settings
              readOnly: true
            - mountPath: /tmp
              name: tmp-volume
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext:
        fsGroup: 1000
      terminationGracePeriodSeconds: 180
      volumes:
        - downwardAPI:
            defaultMode: 420
            items:
              - fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.labels
                path: labels
          name: downward-api
        - emptyDir: {}
          name: elastic-internal-elasticsearch-bin-local
        - name: elastic-internal-elasticsearch-config
          secret:
            defaultMode: 420
            optional: false
            secretName: elasticsearch-es-default-es-config
        - emptyDir: {}
          name: elastic-internal-elasticsearch-config-local
        - emptyDir: {}
          name: elastic-internal-elasticsearch-plugins-local
        - name: elastic-internal-http-certificates
          secret:
            defaultMode: 420
            optional: false
            secretName: elasticsearch-es-http-certs-internal
        - name: elastic-internal-probe-user
          secret:
            defaultMode: 420
            items:
              - key: elastic-internal-probe
                path: elastic-internal-probe
              - key: elastic-internal-pre-stop
                path: elastic-internal-pre-stop
            optional: false
            secretName: elasticsearch-es-internal-users
        - name: elastic-internal-remote-certificate-authorities
          secret:
            defaultMode: 420
            optional: false
            secretName: elasticsearch-es-remote-ca
        - configMap:
            defaultMode: 493
            name: elasticsearch-es-scripts
            optional: false
          name: elastic-internal-scripts
        - name: elastic-internal-transport-certificates
          secret:
            defaultMode: 420
            optional: false
            secretName: elasticsearch-es-default-es-transport-certs
        - configMap:
            defaultMode: 420
            name: elasticsearch-es-unicast-hosts
            optional: false
          name: elastic-internal-unicast-hosts
        - name: elastic-internal-xpack-file-realm
          secret:
            defaultMode: 420
            optional: false
            secretName: elasticsearch-es-xpack-file-realm
        - name: elasticsearch-data
          persistentVolumeClaim:
            claimName: claim-name-placeholder
        - emptyDir: {}
          name: elasticsearch-logs
        - name: file-settings
          secret:
            defaultMode: 420
            optional: false
            secretName: elasticsearch-es-file-settings
        - emptyDir: {}
          name: tmp-volume
  updateStrategy:
    type: OnDelete
  volumeClaimTemplates:
    - apiVersion: v1
      kind: PersistentVolumeClaim
      metadata:
        creationTimestamp: null
        name: elasticsearch-data
      spec:
        accessModes:
          - ReadWriteOnce
        resources:
          requests:
            storage: 10Gi
        storageClassName: gp2
        volumeMode: Filesystem
status:
  availableReplicas: 1
  collisionCount: 0
  currentReplicas: 1
  currentRevision: elasticsearch-es-default-79756989cf
  observedGeneration: 1
  readyReplicas: 1
  replicas: 1
  updateRevision: elasticsearch-es-default-79756989cf
  updatedReplicas: 1
